<div class="h1-block-header dialog-header">Регистрация на сайте</div>

<form [formGroup]="registerForm">
    <div class="input-container">
        <div class="input-caption">Логин <span class="required"></span></div> 
        <div>
            <input formControlName="login" class="input-field" />
            <div *ngIf="needToDisplayErrors && registerForm?.controls.login.errors?.required" class="field-error">Поле не заполнено</div>
            <div *ngIf="needToDisplayErrors && registerForm?.controls.login.errors?.login as error" class="field-error">{{ error }}</div>
        </div>
    </div>
    <div class="input-container">
        <div class="input-caption">E-mail <span class="required"></span></div> 
        <div>
            <input formControlName="email" class="input-field" />
            <div *ngIf="needToDisplayErrors && registerForm?.controls.email.errors?.required" class="field-error">Поле не заполнено</div>
            <div *ngIf="needToDisplayErrors && registerForm?.controls.email.errors?.email as error" class="field-error">{{ error }}</div>
        </div>
    </div>
    <div class="input-container">
        <div class="input-caption">Пароль <span class="required"></span></div> 
        <div>
            <input formControlName="password" class="input-field password" type="password" />
            <div *ngIf="needToDisplayErrors && registerForm?.controls.password.errors?.required" class="field-error">Поле не заполнено</div>
        </div>
    </div>
    <div class="input-container">
        <div class="input-caption">Подтверждение <span class="required"></span></div> 
        <div>
            <input formControlName="validation" class="input-field password" type="password" />
            <div *ngIf="needToDisplayErrors && registerForm?.controls.validation.errors?.required" class="field-error">Поле не заполнено</div>
            <div *ngIf="needToDisplayErrors && registerForm?.errors?.validation as error" class="field-error">{{ error }}</div>
        </div>
    </div>
</form>

<div class="dialog-button">
    <mat-spinner *ngIf="isLoading" diameter="20" strokeWidth="2" color="accent" class="spinner"></mat-spinner>
    <button [disabled]="!registerForm.valid || isLoading" (click)="onRegisterClick()" mat-raised-button color="primary">Зарегистрироваться</button>
</div>
